"use strict";!function(){function t(t){return BXC_TRANSLATIONS&&t in BXC_TRANSLATIONS?BXC_TRANSLATIONS[t]:t}function e(t,e=-1){return S.loading(t,e)}function n(t,e={},n=!1){return S.ajax(t,e,n)}function i(t,e=!0){return S.activate(t,e)}function a(t){return k(t.closest(".bxc-main"))}function c(t){for(var e=t.split("?").pop().split("&"),n={},i=0;i<e.length;i++){var a=e[i].split("=");n[a[0]]=a[1]}return n}function r(t,e=-1,n=!1){if(-1===e){let e=localStorage.getItem(t);return e?JSON.parse(e):n}localStorage.setItem(t,JSON.stringify(e))}function o(t){let i=k(t.closest(".bxc-main")),a=i.find(".bxc-vat");a.e.length&&(e(a),n("vat",{amount:i.attr("data-start-price"),country_code:k(t.options[t.selectedIndex]).attr("data-country-code"),currency:i.attr("data-currency")},t=>{a.html(t[4]),a.attr("data-country",t[3]).attr("data-country-code",t[2]).attr("data-amount",t[1]).attr("data-percentage",t[5]),i.attr("data-price",t[0]),i.find(".bxc-amount-fiat-total").html(t[0]),e(a,!1)}))}function s(t){let e=r("bxc-billing"),n=a(t),i=n.find('#bxc-billing [name="country"]');if(e)for(var c in e)n.find(`#bxc-billing [name="${c}"]`).val(e[c]);else i.val(n.find(".bxc-vat").attr("data-country"));k(t).addClass("bxc-hidden"),o(i.e[0]),k("#bxc-billing").removeClass("bxc-hidden")}function l(){d.on("click",".bxc-clipboard",function(){let e=k(this).find("span"),n=e.html();navigator.clipboard.writeText(window.atob(k(this).attr("data-text"))),e.html(t("Copied")),i(this),setTimeout(()=>{i(this,!1),e.html(n)},2e3)})}var d,u,p,f,h,b,m=!1,x="",g={},v={},y="undefined",C=typeof BXC_ADMIN!==y||document.getElementsByClassName("bxc-admin").length,T=document.getElementsByTagName("script"),w=typeof BXC_LANGUAGE!==y&&BXC_LANGUAGE,_=!1,k=function(t){return"object"==typeof t&&"e"in t?t:new k.init("string"==typeof t?document.querySelectorAll(t):t)};k.init=function(t){this.e="SELECT"==t.tagName||void 0===t[0]&&!NodeList.prototype.isPrototypeOf(t)?[t]:t},k.ajax=function(t,e=!1,n=!1,i="POST"){let a=new XMLHttpRequest,c="";if(a.open(i,t,!0),e)if("bxc_wp_ajax"==e.action){for(var r in e)"object"==typeof e[r]&&(e[r]=JSON.stringify(e[r]));c=new URLSearchParams(e).toString(),a.setRequestHeader("Content-type","application/x-www-form-urlencoded")}else(c=new FormData).append("data",JSON.stringify(e));a.onload=(()=>{n&&n(a.responseText)}),a.onerror=(()=>!1),a.send(c)},k.extend=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},k.documentHeight=function(){let t=document.body,e=document.documentElement;return Math.max(t.scrollHeight,t.offsetHeight,e.clientHeight,e.scrollHeight,e.offsetHeight)},k.init.prototype.on=function(t,e,n){for(var i=0;i<this.e.length;i++)this.e[i].addEventListener(t,function(t){for(var i=t.target;i&&i!==this;)i.matches(e)&&n.call(i,t),i=i.parentNode})},k.init.prototype.addClass=function(t){for(var e=0;e<this.e.length;e++)this.e[e].classList.add(t);return k(this.e)},k.init.prototype.removeClass=function(t){t=t.trim().split(" ");for(var e=0;e<t.length;e++)for(var n=0;n<this.e.length;n++)this.e[n].classList.remove(t[e]);return k(this.e)},k.init.prototype.toggleClass=function(t){for(var e=0;e<this.e.length;e++)this.e[e].classList.toggle(t);return k(this.e)},k.init.prototype.setClass=function(t,e=!0){for(var n=0;n<this.e.length;n++)e?k(this.e[n]).addClass(t):k(this.e[n]).removeClass(t);return k(this.e)},k.init.prototype.hasClass=function(t){return!!this.e.length&&this.e[0].classList.contains(t)},k.init.prototype.find=function(t){0===t.indexOf(">")&&(t=":scope"+t);try{return!!this.e.length&&k(this.e[0].querySelectorAll(t))}catch(t){return console.warn(t),!1}},k.init.prototype.parent=function(){return!!this.e.length&&k(this.e[0].parentElement)},k.init.prototype.prev=function(){return k(this.e[0].previousElementSibling)},k.init.prototype.next=function(){return k(this.e[0].nextElementSibling)},k.init.prototype.attr=function(t,e=!1){if(this.e.length)return!1===e?this.e[0].getAttribute(t):(e?this.e[0].setAttribute(t,e):this.e[0].removeAttribute(t),k(this.e))},k.init.prototype.html=function(t=!1){if(this.e.length)return!1===t?this.e[0].innerHTML:("string"==typeof t||"number"==typeof t?this.e[0].innerHTML=t:this.e[0].appendChild(t),k(this.e))},k.init.prototype.append=function(t){var e=document.createElement("template");for(e.innerHTML=t.trim();e.content.childNodes.length;)this.e[0].appendChild(e.content.firstChild);return k(this.e)},k.init.prototype.prepend=function(t){return this.e[0].innerHTML=t+this.e[0].innerHTML,k(this.e)},k.init.prototype.replace=function(t){return this.e[0].outerHTML=t,k(this.e)},k.init.prototype.remove=function(){for(var t=0;t<this.e.length;t++)this.e[t].remove()},k.init.prototype.data=function(){let t={};for(var e=0,n=this.e[0].attributes,i=n.length;e<i;e++)t[n[e].nodeName.substr(5)]=n[e].nodeValue;return t},k.init.prototype.is=function(t){return!(1!=this.e[0].nodeType||!this.e.length)&&(t=t.toLowerCase(),this.e[0].tagName.toLowerCase()==t||k(this).attr("type")==t)},k.init.prototype.index=function(){return[].indexOf.call(this.e[0].parentElement.children,this.e[0])},k.init.prototype.siblings=function(){return this.e[0].parentNode.querySelectorAll(":scope > *")},k.init.prototype.length=function(){return this.e.length},k.init.prototype.val=function(t=null){if(null!==t)for(var e=0;e<this.e.length;e++)this.e[e].value=t;return this.e.length?this.e[0].value:""},k.load=function(t=!1,e=!0,n=!1,i=!1){let a=document.createElement(e?"script":"link");t?(e?a.src=t:a.href=t,a.type=e?"text/javascript":"text/css"):a.innerHTML=i,n&&(a.onload=function(){n()}),e||(a.rel="stylesheet"),document.head.appendChild(a)},window._query=k;var S={loading:function(t,e=-1){return t=k(t),-1!==e?t.setClass("bxc-loading",!0===e):!!t.hasClass("bxc-loading")||(this.loading(t,!0),!1)},activate:function(t,e=!0){return k(t).setClass("bxc-active",e)},ajax:function(t,e=!1,n=!1){e.function=t,e.language=w,e.cloud=_,k.ajax(BXC_URL+"ajax.php",e,t=>{let e=!1,i=!1;try{e=!((i=JSON.parse(t))&&"success"in i&&i.success)}catch(t){e=!0}e?(d.find(".bxc-loading").removeClass("bxc-loading"),console.error(t),v[h]=!1):n&&n(i.response)})},cookie:function(t,e=!1,n=!1,i="get",a=!1){let c="https:"==location.protocol?"SameSite=None;Secure;":"";if("get"==i){let e=document.cookie.split(";");for(var r=0;r<e.length;r++){for(var o=e[r];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(t)){let e=o.substring(t.length+1,o.length);return e||!1}}return!1}if("set"==i){let i=new Date;i.setTime(i.getTime()+n*(a?1:86400)*1e3),document.cookie=t+"="+e+";expires="+i.toUTCString()+";path=/;"+c}else this.cookie(t)&&(document.cookie=t+"="+e+";expires=Thu, 01 Jan 1970 00:00:01 GMT;path=/;"+c)},beautifyTime:function(e,n=!1,i=!1){let a;if("0000-00-00 00:00:00"==e)return"";if(e.indexOf("-")>0){let t=e.split(/[- :]/);a=new Date(t[0],t[1]-1,t[2],t[3],t[4],t[5])}else{let t=e.split(/[. :]/);a=new Date(t[2],t[1]-1,t[0],t[3],t[4],t[5])}let c=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds())),r=Math.round((new Date-c)/864e5)*(i?-1:1),o=[t("Sunday"),t("Monday"),t("Tuesday"),t("Wednesday"),t("Thursday"),t("Friday"),t("Saturday")],s=c.toLocaleTimeString("en-EN",{hour:"2-digit",minute:"2-digit"});return"0"===s.charAt(0)&&(s.includes("PM")||s.includes("AM"))&&(s=s.substring(1)),r<1?`<span>${t("Today")}</span>${n?` <span>${s}</span>`:""}`:r<8?`<span>${o[c.getDay()]}</span>${n?` <span>${s}</span>`:""}`:`<span>${c.toLocaleDateString()}</span>${n?` <span>${s}</span>`:""}`},search:function(t,e){let n=k(t).parent().find("i"),i=k(t).val().toLowerCase().trim();n.hasClass("bxc-loading")||(i!=x?(clearTimeout(m),m=setTimeout(()=>{x=i,e(i,n),this.loading(n)},200)):this.loading(n,!1))},searchClear:function(t,e){k(t).next().val()&&(k(t).next().val(""),e())},getURL:function(t=!1,e=!1){if(e||(e=location.href),!t){for(var n=e.split("?").pop().split("&"),i={},a=0;a<n.length;a++){var c=n[a].split("=");i[c[0]]=S.escape(c[1])}return i}return S.escape(decodeURIComponent((new RegExp("[?|&]"+t+"=([^&;]+?)(&|#|;|$)").exec(e)||[,""])[1].replace(/\+/g,"%20")||""))},escape:function(t){return t?t.replaceAll("<script","&lt;script").replaceAll("</script","&lt;/script").replaceAll("javascript:","").replaceAll("onclick=","").replaceAll("onerror=",""):t},checkout:{settings:function(t){let e=(t=k(t)).attr("data-boxcoin"),n={checkout_id:e};return e.includes("custom")?k.extend(n,k(t).data()):n},init:function(t,e,n=!1){let i=this.storageTransaction(t.checkout_id);k.ajax(BXC_URL+"init.php",{checkout:t,language:w,cloud:_},t=>{if((e=k(e)).html(t),i){if(h=e.attr("data-boxcoin"),f=e.find("> .bxc-main"),!["stripe","verifone"].includes(i.external_reference))if(i.encrypted)S.checkout.monitorTransaction(i.encrypted);else{let t=parseInt((Date.now()-i.storage_time)/1e3),e=BXC_SETTINGS.countdown-Math.floor(t/60),n=60-t%60;n&&e--,this.initTransaction(i.id,i.amount,i.address_payment,i.cryptocurrency,i.external_reference,[e,n],i.custom_token,i.redirect)}f.hasClass("bxc-popup")&&S.checkout.openPopup(h)}S.getURL("cc")&&this.completeTransaction(i),S.getURL("pay")&&e.find(`.bxc-payment-methods [data-cryptocurrency="${S.getURL("pay")}"]`).e[0].click(),r("bxc-billing")&&s(e.find("#bxc-btn-invoice").e[0]),S.metamask.active()&&d.find("#metamask").removeClass("bxc-hidden"),n&&n(t)})},initTransaction:function(i,a,c,r,o,s=!1,l=!1,d=!1,u=!1){let b=f.find(".bxc-pay-cnt"),m=b.find(".bxc-pay-address"),x=S.baseCode(r.toUpperCase()),y=b.find("[data-countdown]"),C={id:i,amount:a,address_payment:c,cryptocurrency:r,external_reference:o,custom_token:l,redirect:d,vat:u},T=S.network(r,!1);f.addClass("bxc-pay-cnt-active").attr("data-active",r),m.find(".bxc-text").html(x+T+" "+t("address")),m.find(".bxc-title").html(c),m.find(".bxc-clipboard").attr("data-text",window.btoa(c)),(m=b.find(".bxc-pay-amount")).find(".bxc-title").html(a+" "+x),m.find(".bxc-clipboard").attr("data-text",window.btoa(a)),f.attr("data-transaction-id",i),m=b.find(".bxc-qrcode-text"),b.find(".bxc-qrcode").attr("src",BXC_URL+`vendor/qr.php?s=qr&d=${BXC_SETTINGS.names[r.toLowerCase()][0]}:${c}%3Famount%3D${a}&md=1&wq=0&fc=${BXC_SETTINGS.qr_code_color}`),m.find("img").attr("src",l?l.img:`${BXC_URL}media/icon-${r}.svg`),m.find("div").html(t("Only send {T} to this address").replace("{T}",x+T)),y.html(""),p=s?[s[0],s[1],!0]:[BXC_SETTINGS.countdown,0,!0],clearInterval(g[h]),g[h]=setInterval(()=>{y.html(`${p[0]}:${p[1]<10?"0":""}${p[1]}`),p[1]--,p[1]<=0&&(p[0]<=0&&setTimeout(()=>{S.event("TransactionCancelled",C),this.cancelTransaction(),f.find("#bxc-expired-tx-id").html(i),f.removeClass("bxc-tx-cnt-active").addClass("bxc-failed-cnt-active")},500),p[0]<5&&p[2]&&(y.parent().addClass("bxc-countdown-expiring"),p[2]=!1),p[0]--,p[1]=59)},1e3),clearInterval(g["check-"+h]),g["check-"+h]=setInterval(()=>{v[h]||(v[h]=!0,n("check-transactions",{transaction_id:i},t=>{if(v[h]=!1,t){if("expired"==t)return;if(Array.isArray(t)&&"error"==t[0])return console.error(t[1]);this.monitorTransaction(t)}}))},5e3),this.storageTransaction(h,C),S.event("TransactionStarted",C),e(b,!1)},monitorTransaction:function(e){let i=this.storageTransaction(h),a="check-"+h;clearInterval(g[h]),clearInterval(g[a]),g[a]=setInterval(()=>{f&&!v[h]&&(v[h]=!0,n("check-transaction",{transaction:e},e=>{v[h]=!1,f.find(".bxc-tx-confirmations").html(e.confirmations+" / "+BXC_SETTINGS.confirmations),e.confirmations&&f.find(".bxc-tx-status").addClass("bxc-tx-status-confirmed").html(t("Confirmed")),e.confirmed&&(e.underpayment?(f.removeClass("bxc-tx-cnt-active").addClass("bxc-underpayment-cnt-active"),clearInterval(g[a]),f.find("#bxc-underpaid-tx-id").html(i.id),this.cancelTransaction()):(e.invoice&&window.open(e.invoice),e.source&&f.find(".bxc-text").addClass("bxc-order-processing"),(e.redirect||BXC_SETTINGS.redirect)&&setTimeout(()=>{document.location.href=e.redirect?e.redirect:BXC_SETTINGS.redirect},300),this.completeTransaction(i,a)))}))},3e3),i&&(i.encrypted=e),h&&this.storageTransaction(h,i),f&&(f.addClass("bxc-tx-cnt-active"),f.find(".bxc-tx-status").removeClass("bxc-tx-status-confirmed").html(t("Pending")),f.find(".bxc-tx-confirmations").html("0 / "+BXC_SETTINGS.confirmations))},completeTransaction:function(t,e=!1){t.redirect?setTimeout(()=>{document.location.href=encodeURI(`${t.redirect}${t.redirect.includes("?")?"&":"?"}transaction_id=${t.id}&amount=${t.amount}&address=${t.address}&cryptocurrency=${t.cryptocurrency}&external_reference=${t.external_reference}`)},300):f.removeClass("bxc-tx-cnt-active").addClass("bxc-complete-cnt-active"),clearInterval(g[e]),S.event("TransactionCompleted",t),this.cancelTransaction()},cancelTransaction:function(){clearInterval(g[h]),clearInterval(g["check-"+h]),f.removeClass("bxc-pay-cnt-active"),v[h]=!1,this.storageTransaction(h,"delete"),h=!1,f=!1},storageTransaction:function(t,e){let n=r("bxc-active-transaction",-1,{}),i=t in n;if(e)"delete"==e?delete n[t]:i&&!e.encrypted||(e.storage_time=Date.now(),n[t]=e);else if(i){if(n[t].encrypted||n[t].storage_time+6e4*BXC_SETTINGS.countdown>Date.now())return n[t];delete n[t]}return r("bxc-active-transaction",n),!1},show:function(t){d.find(`[data-boxcoin="${t}"] > div`).removeClass("bxc-hidden")},openPopup(t,e=!0){i(d.find(`[data-boxcoin="${t}"] `).find(".bxc-popup,.bxc-popup-overlay"),e)}},event:function(t,e={}){e.checkout_id=h,document.dispatchEvent(new CustomEvent("BXC"+t,{detail:e}))},baseCode:function(t){return t.replace("_tron","").replace("_TRON","").replace("_bsc","").replace("_BSC","")},network:function(e,n=!0){let i={ETH:["usdt","usdc","link","shib","bat"],TRX:["usdt_tron"],BSC:["bnb","busd","usdt_bsc"]};e=e.toLowerCase();for(var a in i)if(i[a].includes(e)){let e=a+" "+t("network");return n?`<span class="bxc-label">${e}</span>`:" "+t("on")+" "+e}return""},lightbox:function(t,e,n=[]){let a=d.find("#bxc-lightbox"),c="";for(var r=0;r<n.length;r++)c+=`<div id="${n[r][0]}" class="bxc-btn">${n[r][1]}</div>`;a.find(".bxc-title").html(t),a.find("#bxc-lightbox-buttons").html(c),a.find("#bxc-lightbox-main").html(e).e[0].style.maxHeight=window.innerHeight-183+"px",i(d.find("#bxc-lightbox-loading"),!1),i(a)},lightboxClose:function(){i(d.find("#bxc-lightbox"),!1)},metamask:{accounts:!1,transactionRequest:async function(t,e,n=!1,i=!1){await ethereum.request({method:"eth_sendTransaction",params:[{from:this.accounts[0],to:n?S.web3.tokens[n][0]:e,data:n?S.web3.getData(e,t):"",value:n?"":t}]}).then(t=>{i&&i(t)})},transaction:async function(t,n,i=!1,a=!1){if(i)if("ETH"==(i=i.toUpperCase()))i=!1;else{if(typeof Web3===y)return k.load(BXC_URL+"vendor/web3.js",!0,()=>{this.transaction(t,n,i,a)});if(!S.web3.tokens)return S.web3.getTokens(()=>{this.transaction(t,n,i,a)})}"0x"!==!t.substr(0,2)&&(t=S.web3.toHex(t,i?S.web3.tokens[i][1]:18)),this.accounts?this.transactionRequest(t,n,i,a):await ethereum.request({method:"eth_requestAccounts"}).then(e=>{this.accounts=e,this.transactionRequest(t,n,i,a)}),b&&(e(b,!1),b=!1)},active:function(){return window.ethereum&&window.ethereum.isMetaMask}},web3:{tokens:!1,getData:function(t,e){return(new Web3).eth.abi.encodeFunctionCall({constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},[t,e])},toHex:function(t,e){return"0x"+(parseFloat(t)*10**e).toString(16)},getTokens:function(t=!1){n("get-tokens",{},e=>{S.web3.tokens=e,t&&t()})}}};window.BOXCoin=S,document.addEventListener("DOMContentLoaded",()=>{if(d=k(document.body),C)l();else{if(typeof BXC_URL!=y)return;_=S.getURL("cloud");for(var p=0;p<T.length;p++)if(["boxcoin","boxcoin-js"].includes(T[p].id)){let m=T[p].src.replace("js/client.js","").replace("js/client.min.js",""),x=c(m);m.includes("?")&&(m=m.substr(0,m.indexOf("?"))),k.load(m+"css/client.css",!1),"lang"in x&&(w=x.lang),"cloud"in x&&(_=x.cloud),m.includes("?")&&(m=m.substr(0,m.indexOf("?"))),u=C?[]:d.find("[data-boxcoin]"),k.ajax(m+"init.php",{init:!0,language:w,cloud:_},t=>{if("no-credit-balance"===t)return console.warn("Boxcoin: No credit balance.");k.load(!1,!0,!1,t),u.e.forEach(t=>{S.checkout.init(S.checkout.settings(t),t)})}),l(),S.event("Init"),d.on("click",".bxc-payment-methods > div",function(){let i=a(this),c=i.parent().attr("data-boxcoin");if(i.find(".bxc-input").removeClass("bxc-error"),i.find(".bxc-error").remove(),h&&c!=h)return i.find(".bxc-body").prepend(`<div class="bxc-error bxc-text">${t("Another transaction is being processed. Complete the transaction or cancel it to start a new one.")}</div>`),void setTimeout(()=>{i.find(".bxc-error").remove()},1e4);f=i,h=c;let o=k(this).attr("data-cryptocurrency"),s=f.attr("data-external-reference"),l=f.attr("data-price"),d=f.find("#user-amount"),u=k(this).attr("data-custom-coin"),p=i.find(".bxc-vat"),b=!1;l&&-1!=l&&"0"!=l||(l=d.find("input").val())?(u&&(u={type:u,img:k(this).find("img").attr("src")}),f.find('#bxc-billing [name="name"]').val().trim()&&(b={},f.find("#bxc-billing input, #bxc-billing select").e.forEach(t=>{b[k(t).attr("name")]=k(t).val()}),r("bxc-billing",b)),p=!(!p.e.length||!p.attr("data-amount"))&&{amount:p.attr("data-amount"),percentage:p.attr("data-percentage"),country:p.attr("data-country"),country_code:p.attr("data-country-code")},f.addClass("bxc-pay-cnt-active"),e(f.find(".bxc-pay-cnt")),n("create-transaction",{amount:l,cryptocurrency_code:o,currency_code:f.attr("data-currency"),external_reference:f.attr("data-external-reference"),title:f.attr("data-title"),note:f.attr("data-note"),custom_token:u,url:document.location.href,billing:b?JSON.stringify(b):"",vat:p},t=>{if(!Array.isArray(t))return console.error(t);if(["stripe","verifone"].includes(o)){let e={id:t[0],amount:l,external_reference:o,redirect:f.attr("data-redirect")};S.checkout.storageTransaction(h,e),S.event("TransactionStarted",e),document.location=t[2]}else S.checkout.initTransaction(t[0],t[1],t[2],o,s,!1,u,f.attr("data-redirect"),p)})):d.addClass("bxc-error")}),d.on("click",".bxc-back",function(){f.find(".bxc-pay-top-main").addClass("bxc-hidden")}),d.on("click","#bxc-abort-cancel, #bxc-confirm-cancel",function(){f.find(".bxc-pay-top-main").removeClass("bxc-hidden")}),d.on("click","#bxc-confirm-cancel",function(){S.event("TransactionCancelled",S.checkout.storageTransaction(h)),S.checkout.cancelTransaction()}),d.on("click",".bxc-failed-cnt .bxc-btn",function(){f.removeClass("bxc-failed-cnt-active")}),d.on("click","#metamask",function(){if(e(this))return;b=this;let t=S.checkout.storageTransaction(h);S.metamask.transaction(t.amount,t.address_payment,t.cryptocurrency)}),d.on("click",".bxc-btn-popup,.bxc-popup-close",function(){i(k(this.closest("[data-boxcoin]")).find(".bxc-popup,.bxc-popup-overlay"),k(this).hasClass("bxc-btn-popup"))}),d.on("click",".bxc-collapse-btn",function(){k(this).parent().removeClass("bxc-collapse"),k(this).remove()}),d.on("click","#bxc-btn-invoice",function(){s(this)}),d.on("click","#bxc-btn-invoice-close",function(){let t=a(this);k(this).parent().addClass("bxc-hidden"),t.find("#bxc-btn-invoice").removeClass("bxc-hidden"),t.find("#bxc-billing").find("input, select").val(""),r("bxc-billing",!1),o(t.find('#bxc-billing [name="country"]').e[0])}),d.on("change",'#bxc-billing [name="country"]',function(){o(this)}),d.on("focusout",'#bxc-billing [name="vat"]',function(){let t=k(this).val();if(BXC_SETTINGS.vat_validation&&t.length>5&&t.charAt(0).match(/[A-Z]/i)){let i=k(this.closest(".bxc-main")),a=i.find(".bxc-vat");e(a),n("vat-validation",{vat_number:t},t=>{if(t&&t.data&&t.data.valid){let t=i.attr("data-start-price");i.find(".bxc-vat").html(""),i.attr("data-price",t),i.find(".bxc-amount-fiat-total").html(t)}else o(k('#bxc-billing [name="country"]').e[0]);e(a,!1)})}});break}}d.on("click","#bxc-lightbox-close",function(){S.lightboxClose()}),d.on("click",".bxc-select",function(){let t=k(this).find("ul"),e=t.hasClass("bxc-active");i(t,!e),C&&!e&&setTimeout(()=>{BXCAdmin.active_element=t.e[0]},300)}),d.on("click",".bxc-select li",function(){let t=k(this.closest(".bxc-select")),e=k(this).attr("data-value");var n=t.find(`[data-value="${e}"]`);i(t.find("li"),!1),t.find("p").attr("data-value",e).html(n.html()),i(n,!0),C&&(BXCAdmin.active_element=!1)})},!1)}();